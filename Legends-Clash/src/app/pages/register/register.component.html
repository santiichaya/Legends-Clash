<div
  *ngIf="
    registerForm!.hasError('passwordMismatch') &&
    registerForm!.get('password2')?.touched
  "
  class="text-red-500 w-full text-center pt-8 text-2xl"
>
  Las contraseñas no coinciden.
</div>

<div
  *ngIf="
    registerForm!.get('email')?.invalid &&
    (registerForm!.get('email')?.dirty || registerForm!.get('email')?.touched)
  "
  class="text-red-500 w-full text-center pt-8 text-2xl"
>
  Email no váido.
</div>

<div
  *ngIf="mensajeError !== ''"
  class="text-red-500 w-full text-center pt-8 text-2xl"
>
  {{ mensajeError }}
</div>
<div class="flex justify-start items-center h-[50rem] flex-col">
  <form
    [formGroup]="registerForm!"
    (submit)="register()"
    class="bg-[var(--color-primary)] h-4/6 w-[40%] flex flex-wrap justify-around flex-col text-white rounded-2xl overflow-hidden mt-8"
  >
    <div class="h-[15%] p-4 border-b-4 border-[var(--color-secondary)]">
      <p class="text-4xl">Register</p>
    </div>
    <div class="w-full h-[10%]">
      <fieldset
        class="h-full w-full flex items-center flex-wrap justify-between p-4 text-2xl"
      >
        <label for="username">Usuario: </label>
        <input
          type="text"
          id="username"
          formControlName="username"
          class="border-2 border-[var(--color-secondary)] outline-none h-12 p-2 rounded-lg w-[60%] text-xl"
        />
      </fieldset>
    </div>
    <div class="w-full h-[10%]">
      <fieldset
        class="h-full w-full flex items-center flex-wrap justify-between p-4 text-2xl"
      >
        <label for="email">Email: </label>
        <input
          type="text"
          id="email"
          formControlName="email"
          class="border-2 border-[var(--color-secondary)] outline-none h-12 p-2 rounded-lg w-[60%] text-xl"
        />
      </fieldset>
    </div>
    <div class="w-full h-[10%]">
      <fieldset
        class="h-full w-full flex items-center flex-wrap justify-between p-4 text-2xl"
      >
        <label for="password">Contraseña: </label>
        <div class="relative w-[60%]">
          <input
            [type]="password1 ? 'password' : 'text'"
            id="password"
            formControlName="password"
            class="border-2 border-[var(--color-secondary)] outline-none h-12 p-2 rounded-lg w-full text-xl pr-12"
          />

          <button
            type="button"
            (mousedown)="toggleInput1(false)"
            (mouseup)="toggleInput1(true)"
            (mouseleave)="toggleInput1(true)"
            class="absolute right-2 top-3/5 transform -translate-y-1/2 p-2 text-white bg rounded-lg"
          >
            @if (password1) {
            <mat-icon>lock</mat-icon>
            } @else {
            <mat-icon>lock_open</mat-icon>
            }
          </button>
        </div>
      </fieldset>
    </div>
    <div class="w-full h-[10%]">
      <fieldset
        class="h-full w-full flex items-center flex-wrap justify-between p-4 text-2xl"
      >
        <label for="password2">Repetir contraseña: </label>
        <div class="relative w-[60%]">
          <input
            [type]="password2 ? 'password' : 'text'"
            id="password2"
            formControlName="password2"
            class="border-2 border-[var(--color-secondary)] outline-none h-12 p-2 rounded-lg w-full text-xl pr-12"
          />
          <button
            type="button"
            (mousedown)="toggleInput2(false)"
            (mouseup)="toggleInput2(true)"
            (mouseleave)="toggleInput2(true)"
            class="absolute right-2 top-3/5 transform -translate-y-1/2 p-2 text-white bg rounded-lg"
          >
            @if (password2) {
            <mat-icon>lock</mat-icon>
            } @else {
            <mat-icon>lock_open</mat-icon>
            }
          </button>
        </div>
      </fieldset>
    </div>
    <div class="w-full h-[20%]">
      <fieldset
        class="h-full w-full flex justify-center items-center p-4 text-2xl"
      >
        <button
          type="submit"
          class="bg-[var(--color-secondary)] border-black border-4 rounded-lg p-4 mb-4"
          [disabled]="!registerForm!.valid"
        >
          Register
        </button>
      </fieldset>
    </div>
  </form>
  <p class="pt-4 text-white">
    ¿Ya tienes cuenta? <a [routerLink]="'/login'" class="underline">Log in</a>
  </p>
</div>
